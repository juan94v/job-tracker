<% content_for :title, "Interview stages for #{@job_application.company} - #{@job_application.position}" %>

<div class="container">
  <% if notice %>
    <p class="notice"><%= notice %></p>
  <% end %>

  <div class="page-header">
    <h1>Interview Stages</h1>
    <%= link_to "Nueva etapa", new_job_application_interview_stage_path(@job_application), class: "btn btn-success" %>
  </div>

  <div class="job-context-banner">
    <p><strong><%= @job_application.company %></strong> - <%= @job_application.position %></p>
  </div>

  <div id="interview_stages" class="card-grid">
    <% @interview_stages.each do |interview_stage| %>
      <%= render interview_stage %>
    <% end %>
  </div>

  <% if @interview_stages.empty? %>
    <div class="card" style="text-align: center; padding: 60px 20px;">
      <h2 style="color: #95a5a6; margin-bottom: 20px;">No hay etapas de entrevista aún</h2>
      <p style="color: #7f8c8d; margin-bottom: 30px;">Comienza a organizar tu proceso de entrevistas creando la primera etapa</p>
      <%= link_to "Crear primera etapa", new_job_application_interview_stage_path(@job_application), class: "btn btn-primary" %>
    </div>
  <% end %>

  <div style="margin-top: 20px;">
    <%= link_to "← Volver a la aplicación", job_application_path(@job_application), class: "btn btn-secondary" %>
  </div>
</div>
