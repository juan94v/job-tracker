<%= form_with(model: job_application) do |form| %>
  <% if job_application.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(job_application.errors.count, "error") %> prohibited this job_application from being saved:</h2>

      <ul>
        <% job_application.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :company, style: "display: block" %>
    <%= form.text_field :company %>
  </div>

  <div>
    <%= form.label :position, style: "display: block" %>
    <%= form.text_field :position %>
  </div>

  <div>
    <%= form.label :status, style: "display: block" %>
    <%= form.select :status, JobApplication.statuses.keys.map { |s| [s.titleize, s] }, { prompt: "Select status" }, { class: "form-select" } %>
  </div>

  <div>
    <%= form.label :location, style: "display: block" %>
    <%= form.text_field :location %>
  </div>

  <div>
    <%= form.label :salary_range, style: "display: block" %>
    <%= form.text_field :salary_range, placeholder: "e.g., $80,000 - $100,000" %>
  </div>

  <div>
    <%= form.label :current_salary, style: "display: block" %>
    <%= form.number_field :current_salary, step: 0.01 %>
  </div>

  <div>
    <%= form.label :skill_focus, style: "display: block" %>
    <%= form.text_area :skill_focus, rows: 3 %>
  </div>

  <div>
    <%= form.label :applied_through, style: "display: block" %>
    <%= form.text_field :applied_through, placeholder: "e.g., LinkedIn, Company website" %>
  </div>

  <div>
    <%= form.label :general_notes, style: "display: block" %>
    <%= form.text_area :general_notes, rows: 4 %>
  </div>

  <div>
    <%= form.label :final_outcome, style: "display: block" %>
    <%= form.text_area :final_outcome, rows: 3 %>
  </div>

  <div>
    <%= form.label :contact_name, style: "display: block" %>
    <%= form.text_field :contact_name %>
  </div>

  <div>
    <%= form.label :contact_email, style: "display: block" %>
    <%= form.text_field :contact_email %>
  </div>

  <div>
    <%= form.label :contact_role, style: "display: block" %>
    <%= form.text_field :contact_role %>
  </div>

  <div>
    <%= form.submit %>
  </div>
<% end %>
